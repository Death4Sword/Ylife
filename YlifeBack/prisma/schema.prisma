generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Event {
  idEvent        Int      @id @default(autoincrement())
  title          String   @db.VarChar(255)
  description    String   @db.VarChar(255)
  dateEvent      DateTime @db.Date
  photo_video    String   @db.VarChar(255)
  lieux          String   @db.VarChar(255)
  tags           String   @db.VarChar(255)
  nbrParticipant Int
  price          Int
  lienPriceURL   String   @db.VarChar(255)
  compte         Compte  @relation(fields: [idEvent], references: [idCompte], onDelete: NoAction, onUpdate: NoAction, map: "idCompte")
}

model Compte {
  idCompte      Int           @id @default(autoincrement())
  filiere       String        @db.VarChar(100)
  mail          String        @db.VarChar(255)
  nom           String        @db.VarChar(255)
  prenom        String        @db.VarChar(255)
  typeAsso      String        @db.VarChar(255)
  event         Event[]
  password      Password?
  creatorEvent  CreatorEvent[]
}

model Password {
  idPassword Int    @id @default(autoincrement())
  password   String @db.VarChar(255)
  compte     Compte @relation(fields: [idPassword], references: [idCompte], onDelete: NoAction, onUpdate: NoAction, map: "idCompte")
}

model CreatorEvent {
  idCreatorEvent Int    @id @default(autoincrement())
  color          String @db.VarChar(255)
  logo           String @db.VarChar(255)
  Compte         Compte @relation(fields: [idCreatorEvent], references: [idCompte], onDelete: NoAction, onUpdate: NoAction, map: "idCompte")
}