generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Event {
  idEvent        Int      @id @default(autoincrement())
  Title          String   @db.VarChar(255)
  description    String   @db.VarChar(255)
  dateDebut      DateTime @db.Date
  dateFin        DateTime @db.Date
  photo_video    String   @db.VarChar(255)
  nbrParticipant Int
  price          Int
  compte         Compte    @relation(fields: [idEvent], references: [idCompte], onDelete: NoAction, onUpdate: NoAction, map: "idCompte")
}

model Compte {
  idCompte      Int           @id @default(autoincrement())
  login         String        @db.VarChar(255) @unique
  Filiere       String        @db.VarChar(100)
  promo         String        @db.VarChar(20)
  mail          String        @db.VarChar(255)
  nom           String        @db.VarChar(255)
  prenom        String        @db.VarChar(255)
  Event         Event[]
  createOfEvent CreateOfEvent?
  Password      Password?
}

model CreateOfEvent {
  idCreateOfEvent Int     @id @default(autoincrement())
  TypeAsso        String  @db.VarChar(255)
  YdaysName       String? @db.VarChar(255)
  compte          Compte  @relation(fields: [idCreateOfEvent], references: [idCompte], onDelete: NoAction, onUpdate: NoAction, map: "idCompte")
}

model Password {
  idPassword Int    @id @default(autoincrement())
  password   String @db.VarChar(255) @unique
  compte     Compte @relation(fields: [idPassword], references: [idCompte], onDelete: NoAction, onUpdate: NoAction, map: "idCompte")
}
